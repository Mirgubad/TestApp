@using Web.ViewModels.Product;
@model ProductDetailsVM;

<div class="row">
    <div class="container">
        <div>
            <h3>Product</h3>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Title</th>
                    <th scope="col">Description</th>
                    <th scope="col">Photo</th>
                    <th scope="col">Category</th>
                    <th scope="col">Status</th>
                    <th scope="col">Weight</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Created At</th>
                    <th scope="col">Modified At</th>                  
                </tr>
            </thead>
            <tbody>

                <tr>
                    <th scope="row">@Model.Id</th>
                    <td>@Model.Title</td>
                    <td>@Model.Description</td>
                    <td>
                        <img style="width:120px;height:120px;object-fit:cover" class="img-thumbnail" src="~/images/@Model.MainPhotoPath" />
                    </td>
                    <td>@Model.Categories.Title</td>
                    <td>@Model.Status</td>
                    <td>@Model.Weight</td>
                    <td>@Model.Quantity</td>
                    <td>@Model.CreatedAt.ToLocalTime().ToUniversalTime()</td>
                    <td>
                        @{
                            if (@Model.ModifiedAt.ToLocalTime().ToString() == "01.01.0001 04:00:00")
                            {
                                <span>Non modified</span>
                            }
                            else
                            {
                                @Model.ModifiedAt.ToLocalTime().ToUniversalTime()
                            }
                        }
                    </td>
                    
                      
                     
                </tr>

            </tbody>
        </table>

        <div>
            <h3>Product Photos</h3>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Name</th>                
                    <th scope="col">Order</th>                
                    <th scope="col">Photo</th>                
                    <th scope="col">Created At</th>                
                    <th scope="col">Modified At</th>                
                </tr>
            </thead>
            <tbody>
                @{
                    foreach (var productPhoto in Model.ProductPhotos)
                    {
                        <tr>
                            <th scope="row">@productPhoto.Id</th>
                            <td>@productPhoto.Name</td>
                            <td>@productPhoto.Order</td>
                            <td>
                                <img style="width:120px;height:120px;object-fit:cover" class="img-thumbnail" src="~/images/@productPhoto.Name" />
                            </td>
                            <td>@productPhoto.CreatedAt.ToLocalTime().ToUniversalTime()</td>
                            <td>
                                @{
                                    if (@productPhoto.ModifiedAt.ToLocalTime().ToString() == "01.01.0001 04:00:00")
                                    {
                                        <span>Non modified</span>
                                    }
                                    else
                                    {
                                        @productPhoto.ModifiedAt.ToLocalTime().ToUniversalTime()
                                    }
                                }
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        <div class="mt-4">  <a class="btn btn-outline-warning" asp-action="index" asp-controller="product">Cancel</a></div>
    </div>
</div>
